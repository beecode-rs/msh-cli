import { shellService } from '#src/service/shell-service';
export class TerminalWrapper {
    _command;
    constructor(params) {
        const { command } = params;
        this._command = command;
    }
    async execute() {
        const results = await this._command.execute();
        const printableStdMessages = results.map((r) => ({
            [r.name ?? '<cmd>']: { errorOccurred: !!r.errorMessage, stderr: r.errorMessage ?? '', stdout: r.stringResult ?? '' },
        }));
        shellService.printStdMessage(...printableStdMessages);
    }
}
export const terminalWrapperFactory = (...params) => new TerminalWrapper(...params);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVybWluYWwtd3JhcHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zZXJ2aWNlL3Rlcm1pbmFsLXdyYXBwZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDRCQUE0QixDQUFBO0FBRXpELE1BQU0sT0FBTyxlQUFlO0lBQ1IsUUFBUSxDQUFZO0lBQ3ZDLFlBQVksTUFBK0I7UUFDMUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLE1BQU0sQ0FBQTtRQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQTtJQUN4QixDQUFDO0lBRUQsS0FBSyxDQUFDLE9BQU87UUFDWixNQUFNLE9BQU8sR0FBRyxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDN0MsTUFBTSxvQkFBb0IsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2hELENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLFlBQVksSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxZQUFZLElBQUksRUFBRSxFQUFFO1NBQ3BILENBQUMsQ0FBQyxDQUFBO1FBQ0gsWUFBWSxDQUFDLGVBQWUsQ0FBQyxHQUFHLG9CQUFvQixDQUFDLENBQUE7SUFDdEQsQ0FBQztDQUNEO0FBRUQsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsQ0FBQyxHQUFHLE1BQXFELEVBQW1CLEVBQUUsQ0FDbkgsSUFBSSxlQUFlLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4ZWN1dGFibGUgfSBmcm9tICcjc3JjL21vZGVsL2NvbW1hbmQvaW50ZXJmYWNlcydcbmltcG9ydCB7IHNoZWxsU2VydmljZSB9IGZyb20gJyNzcmMvc2VydmljZS9zaGVsbC1zZXJ2aWNlJ1xuXG5leHBvcnQgY2xhc3MgVGVybWluYWxXcmFwcGVyIHtcblx0cHJvdGVjdGVkIHJlYWRvbmx5IF9jb21tYW5kOiBFeGVjdXRhYmxlXG5cdGNvbnN0cnVjdG9yKHBhcmFtczogeyBjb21tYW5kOiBFeGVjdXRhYmxlIH0pIHtcblx0XHRjb25zdCB7IGNvbW1hbmQgfSA9IHBhcmFtc1xuXHRcdHRoaXMuX2NvbW1hbmQgPSBjb21tYW5kXG5cdH1cblxuXHRhc3luYyBleGVjdXRlKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLl9jb21tYW5kLmV4ZWN1dGUoKVxuXHRcdGNvbnN0IHByaW50YWJsZVN0ZE1lc3NhZ2VzID0gcmVzdWx0cy5tYXAoKHIpID0+ICh7XG5cdFx0XHRbci5uYW1lID8/ICc8Y21kPiddOiB7IGVycm9yT2NjdXJyZWQ6ICEhci5lcnJvck1lc3NhZ2UsIHN0ZGVycjogci5lcnJvck1lc3NhZ2UgPz8gJycsIHN0ZG91dDogci5zdHJpbmdSZXN1bHQgPz8gJycgfSxcblx0XHR9KSlcblx0XHRzaGVsbFNlcnZpY2UucHJpbnRTdGRNZXNzYWdlKC4uLnByaW50YWJsZVN0ZE1lc3NhZ2VzKVxuXHR9XG59XG5cbmV4cG9ydCBjb25zdCB0ZXJtaW5hbFdyYXBwZXJGYWN0b3J5ID0gKC4uLnBhcmFtczogQ29uc3RydWN0b3JQYXJhbWV0ZXJzPHR5cGVvZiBUZXJtaW5hbFdyYXBwZXI+KTogVGVybWluYWxXcmFwcGVyID0+XG5cdG5ldyBUZXJtaW5hbFdyYXBwZXIoLi4ucGFyYW1zKVxuIl19