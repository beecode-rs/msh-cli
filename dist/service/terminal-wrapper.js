import { shellService } from '#src/service/shell-service';
export class TerminalWrapper {
    _command;
    constructor(params) {
        const { command } = params;
        this._command = command;
    }
    async execute() {
        const results = await this._command.execute();
        const printableStdMessages = results.map((r) => ({
            [r.name ?? '<cmd>']: { errorOccurred: !!r.errorMessage, stderr: r.errorMessage ?? '', stdout: r.stringResult ?? '' },
        }));
        shellService.printStdMessage(...printableStdMessages);
    }
}
export const terminalWrapperFactory = (...params) => new TerminalWrapper(...params);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVybWluYWwtd3JhcHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zZXJ2aWNlL3Rlcm1pbmFsLXdyYXBwZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDRCQUE0QixDQUFBO0FBRXpELE1BQU0sT0FBTyxlQUFlO0lBQ1IsUUFBUSxDQUFZO0lBQ3ZDLFlBQVksTUFBK0I7UUFDMUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLE1BQU0sQ0FBQTtRQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQTtJQUN4QixDQUFDO0lBRUQsS0FBSyxDQUFDLE9BQU87UUFDWixNQUFNLE9BQU8sR0FBRyxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDN0MsTUFBTSxvQkFBb0IsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2hELENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLFlBQVksSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxZQUFZLElBQUksRUFBRSxFQUFFO1NBQ3BILENBQUMsQ0FBQyxDQUFBO1FBQ0gsWUFBWSxDQUFDLGVBQWUsQ0FBQyxHQUFHLG9CQUFvQixDQUFDLENBQUE7SUFDdEQsQ0FBQztDQUNEO0FBRUQsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsQ0FBQyxHQUFHLE1BQXFELEVBQW1CLEVBQUUsQ0FDbkgsSUFBSSxlQUFlLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgRXhlY3V0YWJsZSB9IGZyb20gJyNzcmMvbW9kZWwvY29tbWFuZC9pbnRlcmZhY2VzJ1xuaW1wb3J0IHsgc2hlbGxTZXJ2aWNlIH0gZnJvbSAnI3NyYy9zZXJ2aWNlL3NoZWxsLXNlcnZpY2UnXG5cbmV4cG9ydCBjbGFzcyBUZXJtaW5hbFdyYXBwZXIge1xuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgX2NvbW1hbmQ6IEV4ZWN1dGFibGVcblx0Y29uc3RydWN0b3IocGFyYW1zOiB7IGNvbW1hbmQ6IEV4ZWN1dGFibGUgfSkge1xuXHRcdGNvbnN0IHsgY29tbWFuZCB9ID0gcGFyYW1zXG5cdFx0dGhpcy5fY29tbWFuZCA9IGNvbW1hbmRcblx0fVxuXG5cdGFzeW5jIGV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuX2NvbW1hbmQuZXhlY3V0ZSgpXG5cdFx0Y29uc3QgcHJpbnRhYmxlU3RkTWVzc2FnZXMgPSByZXN1bHRzLm1hcCgocikgPT4gKHtcblx0XHRcdFtyLm5hbWUgPz8gJzxjbWQ+J106IHsgZXJyb3JPY2N1cnJlZDogISFyLmVycm9yTWVzc2FnZSwgc3RkZXJyOiByLmVycm9yTWVzc2FnZSA/PyAnJywgc3Rkb3V0OiByLnN0cmluZ1Jlc3VsdCA/PyAnJyB9LFxuXHRcdH0pKVxuXHRcdHNoZWxsU2VydmljZS5wcmludFN0ZE1lc3NhZ2UoLi4ucHJpbnRhYmxlU3RkTWVzc2FnZXMpXG5cdH1cbn1cblxuZXhwb3J0IGNvbnN0IHRlcm1pbmFsV3JhcHBlckZhY3RvcnkgPSAoLi4ucGFyYW1zOiBDb25zdHJ1Y3RvclBhcmFtZXRlcnM8dHlwZW9mIFRlcm1pbmFsV3JhcHBlcj4pOiBUZXJtaW5hbFdyYXBwZXIgPT5cblx0bmV3IFRlcm1pbmFsV3JhcHBlciguLi5wYXJhbXMpXG4iXX0=