import { shellService } from '#src/service/shell-service';
import { config } from '#src/util/config';
export var GitSimpleCommand;
(function (GitSimpleCommand) {
    GitSimpleCommand["STATUS"] = "status";
    GitSimpleCommand["FETCH"] = "fetch";
    GitSimpleCommand["PULL"] = "pull";
})(GitSimpleCommand || (GitSimpleCommand = {}));
export class GitSimpleProjectCommand {
    _simpleGitCommand;
    _rootDir;
    constructor(params) {
        const { gitSimpleCommand, rootDir = config().rootDir } = params;
        this._simpleGitCommand = gitSimpleCommand;
        this._rootDir = rootDir;
    }
    async execute(project) {
        try {
            const cmd = `git -C ${this._rootDir}/${project} ${this._simpleGitCommand}`;
            const result = await shellService.exec(cmd);
            return [{ errorMessage: result.stderr, name: project, stringResult: result.stdout }];
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
        }
        catch (err) {
            return [{ errorMessage: err.message }];
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2l0LXNpbXBsZS1wcm9qZWN0LWNvbW1hbmQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbW9kZWwvY29tbWFuZC9wcm9qZWN0LWNvbW1hbmQvZ2l0LXNpbXBsZS1wcm9qZWN0LWNvbW1hbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDRCQUE0QixDQUFBO0FBQ3pELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUV6QyxNQUFNLENBQU4sSUFBWSxnQkFJWDtBQUpELFdBQVksZ0JBQWdCO0lBQzNCLHFDQUFpQixDQUFBO0lBQ2pCLG1DQUFlLENBQUE7SUFDZixpQ0FBYSxDQUFBO0FBQ2QsQ0FBQyxFQUpXLGdCQUFnQixLQUFoQixnQkFBZ0IsUUFJM0I7QUFFRCxNQUFNLE9BQU8sdUJBQXVCO0lBQ2hCLGlCQUFpQixDQUFrQjtJQUNuQyxRQUFRLENBQVE7SUFFbkMsWUFBWSxNQUFnRTtRQUMzRSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxHQUFHLE1BQU0sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLE1BQU0sQ0FBQTtRQUMvRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsZ0JBQWdCLENBQUE7UUFDekMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUE7SUFDeEIsQ0FBQztJQUVELEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBZTtRQUM1QixJQUFJLENBQUM7WUFDSixNQUFNLEdBQUcsR0FBRyxVQUFVLElBQUksQ0FBQyxRQUFRLElBQUksT0FBTyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO1lBQzFFLE1BQU0sTUFBTSxHQUFHLE1BQU0sWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUUzQyxPQUFPLENBQUMsRUFBRSxZQUFZLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQTtZQUNwRiw4REFBOEQ7UUFDL0QsQ0FBQztRQUFDLE9BQU8sR0FBUSxFQUFFLENBQUM7WUFDbkIsT0FBTyxDQUFDLEVBQUUsWUFBWSxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFBO1FBQ3ZDLENBQUM7SUFDRixDQUFDO0NBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIEV4ZWN1dGVSZXN1bHQsIHR5cGUgUHJvamVjdEV4ZWN1dGFibGUgfSBmcm9tICcjc3JjL21vZGVsL2NvbW1hbmQvaW50ZXJmYWNlcydcbmltcG9ydCB7IHNoZWxsU2VydmljZSB9IGZyb20gJyNzcmMvc2VydmljZS9zaGVsbC1zZXJ2aWNlJ1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnI3NyYy91dGlsL2NvbmZpZydcblxuZXhwb3J0IGVudW0gR2l0U2ltcGxlQ29tbWFuZCB7XG5cdFNUQVRVUyA9ICdzdGF0dXMnLFxuXHRGRVRDSCA9ICdmZXRjaCcsXG5cdFBVTEwgPSAncHVsbCcsXG59XG5cbmV4cG9ydCBjbGFzcyBHaXRTaW1wbGVQcm9qZWN0Q29tbWFuZCBpbXBsZW1lbnRzIFByb2plY3RFeGVjdXRhYmxlIHtcblx0cHJvdGVjdGVkIHJlYWRvbmx5IF9zaW1wbGVHaXRDb21tYW5kOiBHaXRTaW1wbGVDb21tYW5kXG5cdHByb3RlY3RlZCByZWFkb25seSBfcm9vdERpcjogc3RyaW5nXG5cblx0Y29uc3RydWN0b3IocGFyYW1zOiB7IGdpdFNpbXBsZUNvbW1hbmQ6IEdpdFNpbXBsZUNvbW1hbmQ7IHJvb3REaXI/OiBzdHJpbmcgfSkge1xuXHRcdGNvbnN0IHsgZ2l0U2ltcGxlQ29tbWFuZCwgcm9vdERpciA9IGNvbmZpZygpLnJvb3REaXIgfSA9IHBhcmFtc1xuXHRcdHRoaXMuX3NpbXBsZUdpdENvbW1hbmQgPSBnaXRTaW1wbGVDb21tYW5kXG5cdFx0dGhpcy5fcm9vdERpciA9IHJvb3REaXJcblx0fVxuXG5cdGFzeW5jIGV4ZWN1dGUocHJvamVjdDogc3RyaW5nKTogUHJvbWlzZTxFeGVjdXRlUmVzdWx0W10+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgY21kID0gYGdpdCAtQyAke3RoaXMuX3Jvb3REaXJ9LyR7cHJvamVjdH0gJHt0aGlzLl9zaW1wbGVHaXRDb21tYW5kfWBcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNoZWxsU2VydmljZS5leGVjKGNtZClcblxuXHRcdFx0cmV0dXJuIFt7IGVycm9yTWVzc2FnZTogcmVzdWx0LnN0ZGVyciwgbmFtZTogcHJvamVjdCwgc3RyaW5nUmVzdWx0OiByZXN1bHQuc3Rkb3V0IH1dXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXHRcdH0gY2F0Y2ggKGVycjogYW55KSB7XG5cdFx0XHRyZXR1cm4gW3sgZXJyb3JNZXNzYWdlOiBlcnIubWVzc2FnZSB9XVxuXHRcdH1cblx0fVxufVxuIl19