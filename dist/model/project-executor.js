"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ProjectExecutor = void 0;
const cli_service_1 = require("src/service/cli-service");
const shell_service_1 = require("src/service/shell-service");
class ProjectExecutor {
    constructor(params) {
        this.__projects = params.projects;
        this.__projectExecuteCmd = params.projectExecuteCmd;
    }
    async execute() {
        const promises = this.__projects.map(async (pr) => {
            const result = await this.__projectExecuteCmd.execute(pr);
            shell_service_1.shellService.printSuccess(`${pr} - DONE`);
            return result;
        });
        const results = await Promise.all(promises);
        cli_service_1.cliService.printStdMessage(...results);
    }
}
exports.ProjectExecutor = ProjectExecutor;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvamVjdC1leGVjdXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RlbC9wcm9qZWN0LWV4ZWN1dG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHlEQUFvRDtBQUNwRCw2REFBd0Q7QUFPeEQsTUFBYSxlQUFlO0lBSTFCLFlBQVksTUFBNkI7UUFDdkMsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFBO1FBQ2pDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUE7SUFDckQsQ0FBQztJQUVNLEtBQUssQ0FBQyxPQUFPO1FBQ2xCLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRTtZQUNoRCxNQUFNLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUE7WUFDekQsNEJBQVksQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFBO1lBQ3pDLE9BQU8sTUFBTSxDQUFBO1FBQ2YsQ0FBQyxDQUFDLENBQUE7UUFDRixNQUFNLE9BQU8sR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDM0Msd0JBQVUsQ0FBQyxlQUFlLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQTtJQUN4QyxDQUFDO0NBQ0Y7QUFsQkQsMENBa0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvamVjdENvbW1hbmQgfSBmcm9tICdzcmMvbW9kZWwvcHJvamVjdC1jb21tYW5kJ1xuaW1wb3J0IHsgY2xpU2VydmljZSB9IGZyb20gJ3NyYy9zZXJ2aWNlL2NsaS1zZXJ2aWNlJ1xuaW1wb3J0IHsgc2hlbGxTZXJ2aWNlIH0gZnJvbSAnc3JjL3NlcnZpY2Uvc2hlbGwtc2VydmljZSdcblxuZXhwb3J0IHR5cGUgUHJvamVjdEV4ZWN1dG9yUGFyYW1zID0ge1xuICBwcm9qZWN0czogc3RyaW5nW11cbiAgcHJvamVjdEV4ZWN1dGVDbWQ6IFByb2plY3RDb21tYW5kXG59XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0RXhlY3V0b3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IF9fcHJvamVjdHM6IHN0cmluZ1tdXG4gIHByaXZhdGUgcmVhZG9ubHkgX19wcm9qZWN0RXhlY3V0ZUNtZDogUHJvamVjdENvbW1hbmRcblxuICBjb25zdHJ1Y3RvcihwYXJhbXM6IFByb2plY3RFeGVjdXRvclBhcmFtcykge1xuICAgIHRoaXMuX19wcm9qZWN0cyA9IHBhcmFtcy5wcm9qZWN0c1xuICAgIHRoaXMuX19wcm9qZWN0RXhlY3V0ZUNtZCA9IHBhcmFtcy5wcm9qZWN0RXhlY3V0ZUNtZFxuICB9XG5cbiAgcHVibGljIGFzeW5jIGV4ZWN1dGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcHJvbWlzZXMgPSB0aGlzLl9fcHJvamVjdHMubWFwKGFzeW5jIChwcikgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fX3Byb2plY3RFeGVjdXRlQ21kLmV4ZWN1dGUocHIpXG4gICAgICBzaGVsbFNlcnZpY2UucHJpbnRTdWNjZXNzKGAke3ByfSAtIERPTkVgKVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0pXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgIGNsaVNlcnZpY2UucHJpbnRTdGRNZXNzYWdlKC4uLnJlc3VsdHMpXG4gIH1cbn1cbiJdfQ==